# C语言

## 001 编程基础

### 1.1 C语言的历史背景

### 1.2  ==C语言程序的开发步骤==

#### 1.2.1 编辑源代码

#### 1.2.2 ==编译==预处理

#### 1.2.3 将源预处理的结果==编译==为汇编代码（gcc test.c）

#### 1.2.4 将汇编代码==汇编==为目标模块

#### 1.2.5  将目标模块和库==链接==为可执行程序

#### 1.2.6 将可执行程序==加载==到内存形成进程映像（./a.out）

#### 1.2.7 处理器==执行==进程映像中指令（main函数开始运行）

### 1.3 C程序文件类型

源文件(.c后缀名)：必须有

```
hello.c
```

头文件(.h后缀名)：可以有可以没有

```
stdio.h
```

### 1.4 C语言的注释风格

1.4.1 说明：注释：程序的说明信息，不参与编译和运行（后面学习gcc的编译过程中有所体现）

#### 1.4.2 不同的注释方法

##### 1.4.2.1 多行注释

```c
/*这里面可以输入想要注释的内容，可以进行换行，没有具体的行数限制，当时不能够进行嵌套（比如中间再添加多行注释）
*/
```

##### 1.4.2.2 单行注释

```c
// 这里面可以输入想要注释的内容，无法进行换行（即只在当前行起作用,此处多行的注释效果只是显示效果。），但是可以进行嵌套比如添加多个斜杠进行// 同样不会出现报错
```

### 1.5  # include指令

说明：头文件包含指令

作用：在预处理阶段会将头文件进行拷贝替换。

#### 1.5.1 ==使用语法==

##### 1.5.1.1 使用尖括号 - #include <xxx.h>

```
可以在编译时指定所要查找指令的目录
-gcc -I /home/tarena/include hello.c
表示 首先到-I选项后面的指定目录中查找，随后再去系统目录中查找。
```

##### 1.5.1.2  使用英文双引号 - #include "xxx.h"

```
同样也可以通过添加-I选项，指定查找指令目录的方式。
其与尖括号的查找范围不同，添加-I选项后，先到-I指定目录中查找，再到当前目录，最后查找系统目录。
```

补充：头文件的系统目录

```
- /usr/include 
- /usr/local/include
- /usr/lib/gcc/i686-linux-gnu/4.6.3/include
```

### 1.6  主函数main原型（必须有，唯一）

#### 1.6.1 说明：

任何C语言程序必须有一个main函数

程序必须从main函数开始依次向下进行执行

![image-20221218100431875](./image-20221218100431875.png)

#### 1.6.2 补充

遇到return程序立刻结束，后面跟0或者非零

### 1.7 ==GCC编译器==

作用： 翻译官将源文件、头文件翻译生成可执行文件

```
- hello.c, stdio.h --> a.out
- 对应的命令：gcc 
```

#### 1.7.1 GCC 编译器的常用选项

9字真言：预处理-编译-汇编-链接库

##### 1.7.1.1  -o：指定输出文件路径 gcc 路径 -0 helloworld ..

##### 1.7.1.2 -E: 编译==预处理==-拷贝头文件

```
gcc -E hello.c -o hello.i
hello.i 就是预处理文件
```

##### 1.7.1.3 -S: ==编译==产生汇编文件

```
gcc -S hello.i -o hello.s
hello.s就是汇编文件
```

##### 1.7.1.4 -C：==汇编==产生目标模块

```
gcc -c hello.s -o hello.o 
hello.o 就是目标文件
```

##### 1.7.1.5 -l(小写L): 指定==链接==库

```
gcc hello.o -o hello -lc
hello为最终的可执行程序
```

#### 1.7.2 小结- C程序编译方法

##### 1.7.2.1 直接生成a.out可执行程序

```
-gcc hello.c
```

##### 1.7.2.2 ==分步法==

###### first:首先进行预处理文件

说明：生成后缀名为.i的预处理文件![image-20221218105826429](./image-20221218105826429.png)

###### second: 将预处理文件翻译成汇编文件

说明：生成后缀名为.s的汇编文件![image-20221218105749164](./image-20221218105749164.png)

###### third: 将汇编文件翻译生成目标文件

说明：生成后缀名为.o的目标文件![image-20221218105910204](./image-20221218105910204.png)

###### fourth: 链接-将其中的printf函数代码包含生成可执行程序

（链接库这步，我不知道为什么我老是报错）

##### 1.7.2.3  一步到位法

```
- gcc -o helloworld helloworld.c 
```

![image-20221218111255049](./image-20221218111255049.png)

### 1.8 变量相关概念

#### 1.8.1 内存RAM

内存条，临时存储程序，断电后失去所有数据

![image-20221218113422025](./image-20221218113422025.png)

#### 1.8.2 字节（Byte）= 8 bit

计算机将内存分成一格一格，每一格用来存储一个数字，每一格对应的专业术语叫字节。

#### 1.8.3  地址（Address）

计算机给内存中的每个字节都指定一个唯一的编号，编号从0开始，后续字节编号一次加1.

#### 1.8.4 存储区（Buffer）

计算机将1字节或者多个连续的字节形成的存储单元简称存储区，又称缓冲区。

#### 1.8.5 首地址（Base Address）

又称起始地址，存储区中第一个字节的地址用来当做存储区的首地址，又称基地址。

原则：任何程序访问内存前先要由操作系统负责进行分配地址。

### 1.9 常量

概念：在程序执行郭晨中，其值不发生改变的量称之为常量

#### 1.9.1 常量的类型：

直接常量

```
整型量： 10,10U，10L，012， 0xA
实型量：0.12， 0.12F, 1.2E-1
字符常量：'A','\n'
字符串： "Hello,World!\n"
```

标识符

```
标识变量名、数组名、函数名、类型名的有效字符序列
```

符号常量

```
符号化的常量，比如宏定义、枚举元素等
```

### 1.10 变量

说明：在程序执行过程中，其值可以发生改变的量称为变量

定义变量（分配内存）语法：数据类型 变量名 = 初始值

```c
int a = 520;
// 表面：定义整型类型变量a并且将a的值初始化为520
// 本质：分配4字节（int类型所占内存大小）并且存储520，此存储区的标签为a
```

内存图![image-20221218115050293](./image-20221218115050293.png)

补充：合法标识符的命名规范

```
1. 以字母或者下划线开头，不能以数字开头
2. 只能由数字、字母和下划线组成
3. 不能与C语言自带的关键字有冲突
4. 标识符对大小写敏感-即区分大小写
```

### 1.11 C语言的编程风格

单条语句可写在任意多行内

```c
int main(void){printf("Today is a good day\n");return 0;}
```

必要的==空格==会使得代码更加清晰

严格的==缩进==令代码层次分明

适度的==空行==划分出逻辑单元

统一用==驼峰==或者==下划线==进行命名

```
int nAge = 19; // 驼峰
int CreateWindows = 520; // 大驼峰、双峰
int my_age = 24; // 下划线命名
```

